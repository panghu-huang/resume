(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r,o=n(0),i=n(5),s=n(1),a=n(6);!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(r||(r={}));var c=function(){function e(t,n){this.apiUrl=(n||e.baseUrl)+"/"+t}return e.config=function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})},e.prototype.get=function(e){return this.fetch(s.a({},e,{method:r.GET}))},e.prototype.post=function(e){return this.fetch(s.a({},e,{method:r.POST}))},e.prototype.put=function(e){return this.fetch(s.a({},e,{method:r.PUT}))},e.prototype.patch=function(e){return this.fetch(s.a({},e,{method:r.PATCH}))},e.prototype.delete=function(e){return this.fetch(s.a({},e,{method:r.DELETE}))},e.prototype.fetch=function(e){return s.b(this,void 0,Promise,function(){var t,n,r;return s.d(this,function(o){switch(o.label){case 0:return t=this.getUrl(e),n=this.getOptions(e,t),[4,fetch(t,n)];case 1:return[4,o.sent().text()];case 2:return r=o.sent(),[2,this.parseToJson(r)||r]}})})},e.prototype.parseToJson=function(e){try{return JSON.parse(e)}catch(t){return null}},e.prototype.getUrl=function(e){var t=e.path?this.apiUrl+"/"+e.path:this.apiUrl;return e.method===r.GET&&e.data?t+"?"+Object(a.stringify)(e.data):t},e.prototype.getOptions=function(t,n){var r=e.getOptions;return s.a({},r?r(n,t.method):{},t,{body:this.getRequestBody(t)})},e.prototype.getRequestBody=function(e){return e.method!==r.GET&&e.data?JSON.stringify(e.data):null},e}();c.config({baseUrl:window.location.origin});var l=0,u=20,h={};function f(e){var t=e.text,n=o.useState(""),r=n[0],i=n[1];return o.useEffect(function(){var n=String(l++);h[n]=0;var r=t.length,o=setInterval(function(){h[n]>=r?(clearInterval(o),e.onFinished&&e.onFinished()):i(t.slice(0,h[n]++))},e.interval||u);return function(){delete h[n],clearInterval(o)}},[t]),r}var d=function(e){var t=e.infoText,n=e.onFinished;if(!t)return null;var r=f({text:t,onFinished:n});return o.createElement("div",{dangerouslySetInnerHTML:{__html:r}})},p=n(2),v=(n(14),function(e){var t=e.lastFinished,n=e.styles;if(!t)return null;var r=o.useRef(null),i=f({text:n,interval:40});return o.useEffect(function(){r.current.scrollTo(0,Number.MAX_SAFE_INTEGER)},[i]),o.createElement("div",{className:"animation-styles",ref:r},o.createElement("style",null,i),o.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:p.highlight(i,p.languages.css,"css")}}))}),g=o.memo(function(e){var t=e.loading,n=e.loadingText,r=e.children,i=t?void 0:{display:"none"};return o.createElement("div",{className:"loading"},o.createElement("div",{className:"loading-layer",style:i},n),r)}),m="/resume/static".replace("/",""),y=function(e){function t(t){var n=e.call(this,t)||this;return n.handleFinished=function(){n.setState({isFinished:!0})},n.fetchInfo=function(){return s.b(n,void 0,void 0,function(){var e,t;return s.d(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,new c(m).get({path:"template.html"})];case 1:return e=n.sent(),this.setState({infoText:e}),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}})})},n.fetchStyles=function(){return s.b(n,void 0,void 0,function(){var e,t;return s.d(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,new c(m).get({path:"styles.css"})];case 1:return e=n.sent(),this.setState({styles:e}),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}})})},n.state={infoText:"",styles:"",isFinished:!1},n}return s.c(t,e),t.prototype.componentDidMount=function(){this.fetchStyles(),this.fetchInfo()},t.prototype.render=function(){var e=this.state,t=e.infoText,n=e.styles,r=e.isFinished,i=!(t&&n);return o.createElement(g,{loadingText:"\u7a0d\u7b49\uff0c\u6b63\u5728\u4e0b\u8f7d\u6a21\u677f...",loading:i},o.createElement("div",{className:"main-pane"},o.createElement("div",{className:"text-pane"},o.createElement(d,{infoText:t,onFinished:this.handleFinished})),o.createElement("div",{className:"style-pane"},o.createElement(v,{lastFinished:r,styles:n}))))},t}(o.Component),E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(16);Object(i.render)(o.createElement(y,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/resume",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/resume/service-worker.js";E?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):w(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):w(e)})}}()},7:function(e,t,n){e.exports=n(18)}},[[7,2,1]]]);
//# sourceMappingURL=main.4fccf7dd.chunk.js.map